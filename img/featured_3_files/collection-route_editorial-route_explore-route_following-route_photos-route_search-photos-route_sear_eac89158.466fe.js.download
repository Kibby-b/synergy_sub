(window.webpackJsonp=window.webpackJsonp||[]).push([["collection-route~editorial-route~explore-route~following-route~photos-route~search-photos-route~sear~eac89158"],{BUGo:function(o,e,t){o.exports={colorWhite:"#fff",colorGrey400:"#d1d1d1",colorGrey700:"#767676",colorBlack:"#111",colorBlue:"#007fff",colorDarkBlue:"#006aff",followButton:"_3nDcb",isFollowing:"_2br-F",followIcon:"_2BKrY"}},iX5W:function(o,e,t){"use strict";t.d(e,"a",(function(){return S}));var r=t("TSYQ"),l=t.n(r),s=t("SDew"),n=t("7EGn"),c=t("q1tI"),a=t.n(c),i=t("/MKj"),u=t("b2r9"),b=t("acyj"),w=t("d8i8"),f=t("2Fwo"),h=t("GBJA");var d=Object(h.a)("M31.2 12.8h-2.4v-2.4c0-.4-.4-.8-.8-.8h-1.6c-.4 0-.8.4-.8.8v2.4h-2.4c-.4 0-.8.4-.8.8v1.6c0 .4.4.8.8.8h2.4v2.4c0 .4.4.8.8.8h1.6c.4 0 .8-.4.8-.8v-2.4h2.4c.4 0 .8-.4.8-.8v-1.6c0-.4-.4-.8-.8-.8zm-15.2 5.1v-1.2c1.9-1.1 3.2-3.1 3.2-5.5v-1.6c0-3.5-2.9-6.4-6.4-6.4s-6.4 2.9-6.4 6.4v1.6c0 2.4 1.3 4.4 3.2 5.5v1.2c-5.5.9-9.6 4-9.6 7.7v1.6c0 .9.7 1.6 1.6 1.6h22.4c.9 0 1.6-.7 1.6-1.6v-1.6c0-3.7-4.1-6.8-9.6-7.7z"),p=t("LAdA"),m=t("40gO"),U=t("SlV5"),g=t("D6yk"),v=t("4YUS"),F=t("IVTL"),j=t("wmOD"),k=t("XqAV"),O=t("FXv3"),B=t("zrLP"),T=t("BUGo"),y=t.n(T);const x=Object(F.b)()({labelText:{isFollowing:"Following",isNotFollowing:"Follow"}});class C extends c.Component{componentWillUnmount(){Object(v.b)(this.followSubscription)&&this.followSubscription.unsubscribe()}getLabelText(){const{labelText:o}=this.props;return this.props.user.followed_by_user?o.isFollowing:o.isNotFollowing}buildToLink(){const{user:o}=this.props;return Object(w.a)(k.c.Login({value:k.b.Follow({value:{userId:o.id}})}))}buildClickHandler(){const{authUser:o,user:e,followUser:t,unfollowUser:r,trackFollowButtonClick:l,trackUnfollowButtonClick:s,setErrorFlash:n,buttonType:c}=this.props;if(!1===Object(v.b)(o))return()=>l(e.id,c);const{username:a}=e,i=e.followed_by_user,u=(i?b.a.users.unfollowUser:b.a.users.followUser)({username:a}).pipe(U.c(3),g.ib(1));return o=>{o.stopPropagation(),i?(r({userId:e.id}),s(e.id,c)):(t({userId:e.id}),l(e.id,c)),this.followSubscription=u.subscribe({next:m.m(o=>{const e=Object(p.f)(o)?"You need to confirm your email to follow a user.":"There was an error following the user.";n({message:e})}),error:o=>{n({message:"There was an error following the user."})}})}}renderContainer(o){const{user:e,className:t,authUser:r}=this.props,s=this.buildClickHandler(),n=e.followed_by_user,c=!1===Object(v.b)(r),i=Object(F.b)()({className:l()(y.a.followButton,n&&y.a.isFollowing,t),buttonSize:"small"});return c?a.a.createElement(B.a,Object.assign({to:this.buildToLink(),onMouseUp:s},i),o):a.a.createElement(O.a,Object.assign({tag:"button",onMouseUp:s},i,{type:"button"}),o)}render(){const{user:o,authUser:e}=this.props;return Object(n.a)(e,"username")===o.username?a.a.createElement("div",null):this.renderContainer(a.a.createElement("span",null,a.a.createElement(d,{className:y.a.followIcon}),this.getLabelText()))}}const E={trackFollowButtonClick:u.x,trackUnfollowButtonClick:u.F,setErrorFlash:u.a.SetErrorFlash,followUser:u.a.FollowUser,unfollowUser:u.a.UnfollowUser};var S=Object(f.a)(Object(s.d)(()=>C,Object(i.c)(o=>({authUser:Object(j.d)(o)}),E))(),x)}}]);
//# sourceMappingURL=collection-route~editorial-route~explore-route~following-route~photos-route~search-photos-route~sear~eac89158.466fe.js.map